{
  "configs": {
    "type": "SiddhiStoreDataProvider",
    "config": {
      "siddhiApp": "@App:name(\"EIAnalyticsWithAggregation\") define stream ESBStatStreamTemp (componentId string, componentName string, componentType string, duration long, faultCount int, startTime long, entryPoint string, meta_tenantId int);@store(type='rdbms', datasource = 'EI_ANALYTICS') define aggregation ESBStat from ESBStatStreamTemp select componentId, componentName, componentType, sum(duration) as totalDuration, min(duration) as minDuration, max(duration) as maxDuration, count() as noOfInvocation, sum(faultCount) as faultCount, entryPoint, meta_tenantId, startTime as _timestamp group by meta_tenantId, componentId, componentName, componentType, entryPoint aggregate by startTime every seconds...years;",
      "queryData":{
        "query": "from ESBStat within {{timeFrom}}, {{timeTo}} per {{timeUnit}} select sum(noOfInvocation) as Count, sum(faultCount) as Faults, sum(noOfInvocation - faultCount) as SuccessCount, time:dateFormat(AGG_TIMESTAMP, 'yyyy-MM-dd HH:mm:ss') as Time group by AGG_TIMESTAMP"
      },
      "publishingInterval": 60
    }
  }
}